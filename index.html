<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é€±æœ«ãŠã§ã‹ã‘ - Connected Drive</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f0f2f5;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0%,100% { opacity: 0.6; } 50% { opacity: 1; } }
    @keyframes odometer { 0% { transform: translateY(100%); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } }
    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    .home {
      width: 100%;
      max-width: 420px;
      min-height: 100vh;
      background: #f5f5f7;
      padding-bottom: 72px;
    }

    /* ===== ãƒ˜ãƒƒãƒ€ãƒ¼ ===== */
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 20px 8px;
      background: #fff;
    }
    .top-bar-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .top-bar-logo {
      width: 28px;
      height: 28px;
      background: linear-gradient(135deg, #4a6cf7, #8b5cf6);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: #fff;
    }
    .top-bar-title {
      font-size: 16px;
      font-weight: 700;
      color: #1a1a1a;
    }
    .top-bar-greeting {
      font-size: 12px;
      color: #888;
    }

    /* ===== è»Šä¸¡ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã‚«ãƒ¼ãƒ‰ ===== */
    .car-card {
      margin: 0;
      background: #fff;
      padding: 14px 16px 16px;
      display: flex;
      gap: 14px;
      animation: fadeInUp 0.5s ease;
    }
    .car-thumb-wrap {
      position: relative;
      width: 110px;
      height: 80px;
      border-radius: 12px;
      overflow: hidden;
      flex-shrink: 0;
    }
    .car-thumb-placeholder {
      width: 100%;
      height: 100%;
      background: linear-gradient(145deg, #e8ecf2 0%, #c9d1dc 40%, #b0bcc9 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      position: relative;
    }
    .car-thumb-placeholder::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 30%;
      background: linear-gradient(transparent, rgba(0,0,0,0.06));
    }
    .car-connected-dot {
      position: absolute;
      top: 6px;
      right: 6px;
      width: 8px;
      height: 8px;
      background: #10b981;
      border-radius: 50%;
      border: 2px solid #fff;
      animation: pulse 2s infinite;
    }
    .car-detail {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-width: 0;
    }
    .car-name-row {
      display: flex;
      align-items: baseline;
      gap: 6px;
      margin-bottom: 2px;
    }
    .car-name {
      font-size: 15px;
      font-weight: 700;
      color: #1a1a1a;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .car-year {
      font-size: 11px;
      color: #bbb;
      font-weight: 500;
      flex-shrink: 0;
    }
    .car-together {
      font-size: 11px;
      color: #999;
      margin-bottom: 8px;
    }
    .car-meters {
      display: flex;
      gap: 6px;
    }
    .car-meter {
      flex: 1;
      background: #f5f6f8;
      border-radius: 8px;
      padding: 6px 8px;
      text-align: center;
    }
    .car-meter .m-val {
      font-size: 15px;
      font-weight: 800;
      color: #1a1a1a;
      letter-spacing: -0.3px;
      line-height: 1.2;
    }
    .car-meter .m-unit {
      font-size: 9px;
      color: #bbb;
      font-weight: 500;
    }
    .car-meter.accent { background: linear-gradient(135deg, #eef0ff, #f0e8ff); }
    .car-meter.accent .m-val { color: #4a6cf7; }

    /* ===== ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…±é€š ===== */
    .section {
      padding: 20px;
      animation: fadeInUp 0.5s ease both;
    }
    .section:nth-child(3) { animation-delay: 0.1s; }
    .section:nth-child(4) { animation-delay: 0.2s; }
    .section:nth-child(5) { animation-delay: 0.3s; }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
    }
    .section-title {
      font-size: 16px;
      font-weight: 700;
      color: #1a1a1a;
    }
    .section-more {
      font-size: 12px;
      color: #4a6cf7;
      text-decoration: none;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 2px;
    }
    .section-more::after { content: ' >'; }

    /* ===== ä»Šé€±æœ«ã®ãŠã™ã™ã‚ ===== */
    .recommend-scroll {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      padding-bottom: 4px;
      margin: 0 -20px;
      padding-left: 20px;
      padding-right: 20px;
    }
    .recommend-scroll::-webkit-scrollbar { display: none; }

    .recommend-card {
      flex-shrink: 0;
      width: 260px;
      border-radius: 16px;
      overflow: hidden;
      background: #fff;
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
      scroll-snap-align: start;
      text-decoration: none;
      color: inherit;
      transition: transform 0.2s;
    }
    .recommend-card:active { transform: scale(0.98); }

    .recommend-img-wrap {
      position: relative;
      height: 140px;
      overflow: hidden;
    }
    .recommend-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .recommend-dist {
      position: absolute;
      bottom: 8px;
      right: 8px;
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(4px);
      color: #fff;
      padding: 3px 8px;
      border-radius: 8px;
      font-size: 10px;
      font-weight: 600;
    }
    .recommend-body {
      padding: 12px 14px;
    }
    .recommend-category {
      font-size: 10px;
      color: #4a6cf7;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .recommend-title {
      font-size: 14px;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 4px;
      line-height: 1.3;
    }
    .recommend-desc {
      font-size: 11px;
      color: #999;
      line-height: 1.4;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* ===== æœ€è¿‘ã®æ€ã„å‡º ===== */
    .memories-preview {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .memory-card {
      display: flex;
      gap: 12px;
      padding: 14px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
      text-decoration: none;
      color: inherit;
      transition: transform 0.2s;
    }
    .memory-card:active { transform: scale(0.98); }
    .memory-thumb {
      width: 72px;
      height: 72px;
      border-radius: 12px;
      object-fit: cover;
      flex-shrink: 0;
    }
    .memory-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .memory-date {
      font-size: 10px;
      color: #4a6cf7;
      font-weight: 600;
      margin-bottom: 3px;
    }
    .memory-title {
      font-size: 14px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 3px;
    }
    .memory-sub {
      font-size: 11px;
      color: #999;
    }

    .memory-coming-soon {
      text-align: center;
      padding: 28px 20px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    }
    .memory-coming-icon { font-size: 36px; margin-bottom: 8px; }
    .memory-coming-text { font-size: 13px; color: #999; line-height: 1.5; }
    .memory-coming-text strong { color: #666; }

    /* ===== ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ ===== */
    .quick-actions {
      padding: 0 20px 20px;
      display: flex;
      gap: 10px;
      animation: fadeInUp 0.5s ease 0.4s both;
    }
    .quick-btn {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 16px 12px;
      border-radius: 16px;
      text-decoration: none;
      font-size: 13px;
      font-weight: 700;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .quick-btn:active { transform: scale(0.97); }
    .quick-btn .qicon { font-size: 18px; }

    .quick-btn.primary {
      background: linear-gradient(135deg, #4a6cf7, #6366f1);
      color: #fff;
      box-shadow: 0 4px 16px rgba(74,108,247,0.3);
    }
    .quick-btn.secondary {
      background: #fff;
      color: #333;
      border: 1.5px solid #e0e0e0;
    }

    /* ===== ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¿ãƒ–ãƒãƒ¼ ===== */
    .global-tab-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      max-width: 420px;
      margin: 0 auto;
      height: 56px;
      background: #fff;
      display: flex;
      border-top: 1px solid #e0e0e0;
      z-index: 300;
    }
    .global-tab-bar a {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      color: #999;
      font-size: 10px;
      gap: 2px;
      transition: color 0.2s;
    }
    .global-tab-bar a.active { color: #4a6cf7; font-weight: 600; }
    .global-tab-bar a .tab-icon { font-size: 20px; }
    .global-tab-bar a .tab-label { font-size: 10px; }
  </style>
</head>
<body>

<div class="home">

  <!-- ===== ãƒˆãƒƒãƒ—ãƒãƒ¼ ===== -->
  <div class="top-bar">
    <div class="top-bar-left">
      <div class="top-bar-logo">CD</div>
      <div>
        <div class="top-bar-title">Connected Drive</div>
        <div class="top-bar-greeting" id="greeting"></div>
      </div>
    </div>
  </div>

  <!-- ===== è»Šä¸¡ã‚«ãƒ¼ãƒ‰ ===== -->
  <div class="car-card">
    <div class="car-thumb-wrap">
      <div class="car-thumb-placeholder">ğŸš—</div>
      <div class="car-connected-dot"></div>
    </div>
    <div class="car-detail">
      <div class="car-name-row">
        <div class="car-name">Toyota Corolla</div>
        <div class="car-year">2020</div>
      </div>
      <div class="car-together" id="carTogether">ã“ã®è»Šã¨ä¸€ç·’ã«: 2å¹´3ãƒ¶æœˆ</div>
      <div class="car-meters">
        <div class="car-meter">
          <div class="m-val" id="totalOdo">25,430</div>
          <div class="m-unit">km ç·èµ°è¡Œ</div>
        </div>
        <div class="car-meter accent">
          <div class="m-val" id="monthOdo">842</div>
          <div class="m-unit">km ä»Šæœˆ</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== ä»Šé€±æœ«ã®ãŠã™ã™ã‚ ===== -->
  <div class="section">
    <div class="section-header">
      <div class="section-title">ğŸ—ºï¸ ä»Šé€±æœ«ã®ãŠã™ã™ã‚</div>
      <a href="recommendations.html" class="section-more">ã‚‚ã£ã¨è¦‹ã‚‹</a>
    </div>
    <div class="recommend-scroll">
      <a href="recommendations.html" class="recommend-card">
        <div class="recommend-img-wrap">
          <img class="recommend-img"
               src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=600&h=400&fit=crop"
               alt="èŒ…ãƒ¶å´ã‚µã‚¶ãƒ³ãƒ“ãƒ¼ãƒ">
          <div class="recommend-dist">ğŸš— 10kmãƒ»15åˆ†</div>
        </div>
        <div class="recommend-body">
          <div class="recommend-category">è‡ªç„¶ãƒ»å…¬åœ’</div>
          <div class="recommend-title">èŒ…ãƒ¶å´ã‚µã‚¶ãƒ³ãƒ“ãƒ¼ãƒæ•£æ­©</div>
          <div class="recommend-desc">ã‚µã‚¶ãƒ³ãƒ“ãƒ¼ãƒã®ã‚·ãƒ³ãƒœãƒ«ãƒ¢ãƒ‹ãƒ¥ãƒ¡ãƒ³ãƒˆã¨æµ·å²¸ç·šã‚’æ•£æ­©ã€‚æ¹˜å—ã®é¢¨ã‚’æ„Ÿã˜ã‚‹å®šç•ªã‚³ãƒ¼ã‚¹ã€‚</div>
        </div>
      </a>
      <a href="recommendations.html" class="recommend-card">
        <div class="recommend-img-wrap">
          <img class="recommend-img"
               src="https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=600&h=400&fit=crop"
               alt="éŒå€‰ãƒ»å ±å›½å¯ºã®ç«¹æ—">
          <div class="recommend-dist">ğŸš— 18kmãƒ»25åˆ†</div>
        </div>
        <div class="recommend-body">
          <div class="recommend-category">è‡ªç„¶ãƒ»å…¬åœ’</div>
          <div class="recommend-title">éŒå€‰ãƒ»å ±å›½å¯ºã®ç«¹æ—</div>
          <div class="recommend-desc">ç¾ã—ã„ç«¹ã®åº­ã§æŠ¹èŒ¶ã‚’ä¸€æœã€‚å–§é¨’ã‚’é›¢ã‚ŒãŸéŒå€‰ã®éš ã‚ŒãŸåæ‰€ã§å¿ƒã‚’æ•´ãˆã‚‹ã€‚</div>
        </div>
      </a>
      <a href="recommendations.html" class="recommend-card">
        <div class="recommend-img-wrap">
          <img class="recommend-img"
               src="https://images.unsplash.com/photo-1549490349-8643362247b5?w=600&h=400&fit=crop"
               alt="ãƒãƒ¼ãƒ ãƒ©ãƒœ ãƒœãƒ¼ãƒ€ãƒ¬ã‚¹">
          <div class="recommend-dist">ğŸš— 38kmãƒ»50åˆ†</div>
        </div>
        <div class="recommend-body">
          <div class="recommend-category">ã‚¢ãƒ¼ãƒˆãƒ»æ–‡åŒ–</div>
          <div class="recommend-title">ãƒãƒ¼ãƒ ãƒ©ãƒœ ãƒœãƒ¼ãƒ€ãƒ¬ã‚¹</div>
          <div class="recommend-desc">å…‰ã¨æ˜ åƒãŒç¹”ã‚Šãªã™æ²¡å…¥å‹ã‚¢ãƒ¼ãƒˆä½“é¨“ã€‚å­ã©ã‚‚ã‚‚å¤§äººã‚‚å¤¢ä¸­ã«ãªã‚Œã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¢ãƒ¼ãƒˆãƒŸãƒ¥ãƒ¼ã‚¸ã‚¢ãƒ ã€‚</div>
        </div>
      </a>
    </div>
  </div>

  <!-- ===== æœ€è¿‘ã®æ€ã„å‡º ===== -->
  <div class="section">
    <div class="section-header">
      <div class="section-title">ğŸ“¸ æœ€è¿‘ã®æ€ã„å‡º</div>
      <a href="memories.html" class="section-more">ã‚‚ã£ã¨è¦‹ã‚‹</a>
    </div>
    <div class="memories-preview">
      <a href="memories.html" class="memory-card">
        <img class="memory-thumb"
             src="https://images.unsplash.com/photo-1505118380757-91f5f5632de0?w=200&h=200&fit=crop"
             alt="æ¹˜å—ãƒ‰ãƒ©ã‚¤ãƒ–">
        <div class="memory-info">
          <div class="memory-date">2æœˆ11æ—¥ï¼ˆç«ãƒ»ç¥ï¼‰</div>
          <div class="memory-title">æ¹˜å—ã‚µãƒ³ã‚»ãƒƒãƒˆãƒ‰ãƒ©ã‚¤ãƒ–</div>
          <div class="memory-sub">èŒ…ãƒ¶å´ â†’ æ±Ÿãƒå³¶ / 42km</div>
        </div>
      </a>
      <div class="memory-coming-soon">
        <div class="memory-coming-icon">ğŸ“·</div>
        <div class="memory-coming-text">
          ãŠå‡ºã‹ã‘ã®æ€ã„å‡ºã‚’è¨˜éŒ²ã—ã¾ã—ã‚‡ã†ï¼<br>
          <strong>æ€ã„å‡ºã‚¢ãƒ«ãƒãƒ æ©Ÿèƒ½</strong>ã¯è¿‘æ—¥å…¬é–‹äºˆå®šã§ã™
        </div>
      </div>
    </div>
  </div>

  <!-- ===== ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ ===== -->
  <div class="quick-actions">
    <a href="recommendations.html" class="quick-btn primary">
      <span class="qicon">ğŸ”</span>
      ãŠå‡ºã‹ã‘ã‚’æ¢ã™
    </a>
    <a href="memories.html" class="quick-btn secondary">
      <span class="qicon">âœï¸</span>
      æ€ã„å‡ºã‚’è¨˜éŒ²
    </a>
  </div>

</div>

<!-- ===== ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¿ãƒ–ãƒãƒ¼ ===== -->
<div class="global-tab-bar">
  <a href="index.html" class="tab-item active">
    <span class="tab-icon">ğŸ </span>
    <span class="tab-label">ãƒ›ãƒ¼ãƒ </span>
  </a>
  <a href="recommendations.html" class="tab-item">
    <span class="tab-icon">ğŸ—ºï¸</span>
    <span class="tab-label">ãŠå‡ºã‹ã‘</span>
  </a>
  <a href="memories.html" class="tab-item">
    <span class="tab-icon">ğŸ“¸</span>
    <span class="tab-label">æ€ã„å‡º</span>
  </a>
  <a href="mypage.html" class="tab-item">
    <span class="tab-icon">ğŸ‘¤</span>
    <span class="tab-label">ãƒã‚¤ãƒšãƒ¼ã‚¸</span>
  </a>
</div>

<script>
// æ™‚é–“å¸¯ã§æŒ¨æ‹¶ã‚’å¤‰æ›´
const hour = new Date().getHours();
let greeting;
if (hour < 6) greeting = "ğŸŒ™ ãŠã‚„ã™ã¿å‰ã®ãƒã‚§ãƒƒã‚¯";
else if (hour < 10) greeting = "â˜€ï¸ ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™";
else if (hour < 17) greeting = "ğŸŒ¤ï¸ ã“ã‚“ã«ã¡ã¯";
else greeting = "ğŸŒ‡ ãŠã¤ã‹ã‚Œã•ã¾ã§ã™";
document.getElementById("greeting").textContent = greeting;

// ã€Œã“ã®è»Šã¨ä¸€ç·’ã«ã€ã®çµŒéæœŸé–“ã‚’è¨ˆç®—
(function() {
  const purchaseDate = new Date(2023, 10, 15); // 2023å¹´11æœˆ15æ—¥
  const now = new Date();
  let years = now.getFullYear() - purchaseDate.getFullYear();
  let months = now.getMonth() - purchaseDate.getMonth();
  if (months < 0) { years--; months += 12; }
  let text = "ã“ã®è»Šã¨ä¸€ç·’ã«: ";
  if (years > 0) text += years + "å¹´";
  if (months > 0) text += months + "ãƒ¶æœˆ";
  if (years === 0 && months === 0) text += "1ãƒ¶æœˆæœªæº€";
  document.getElementById("carTogether").textContent = text;
})();

// èµ°è¡Œè·é›¢ã®ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
function animateCounter(el, target) {
  const num = parseInt(target);
  const duration = 800;
  const start = performance.now();
  const initial = Math.floor(num * 0.88);

  function update(now) {
    const elapsed = now - start;
    const progress = Math.min(elapsed / duration, 1);
    const eased = 1 - Math.pow(1 - progress, 3);
    const current = Math.floor(initial + (num - initial) * eased);
    el.textContent = current.toLocaleString();
    if (progress < 1) requestAnimationFrame(update);
  }
  requestAnimationFrame(update);
}

setTimeout(() => {
  animateCounter(document.getElementById('totalOdo'), '25430');
  animateCounter(document.getElementById('monthOdo'), '842');
}, 300);
</script>

</body>
</html>
